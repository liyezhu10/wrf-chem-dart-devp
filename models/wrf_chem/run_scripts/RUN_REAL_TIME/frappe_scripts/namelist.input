&time_control
 start_year                          = 2012,2012,
 start_month                         = 07, 07
 start_day                           = 01, 01 
 start_hour                          = 00, 00
 start_minute                        = 00, 00,  00,
 start_second                        = 00, 00,  00,
 end_year                            = 2012,2012,
 end_month                           = 07, 07
 end_day                             = 04, 04 
 end_hour                            = 00, 00
 end_minute                          = 00,   00,    5,   5,   5,   5,
 end_second                          = 00,   00,   00,  00,  00,  00,
 interval_seconds                    = 10800
 input_from_file                     = .true.,.true.,.true., .true., .true., .true.
 fine_input_stream                   =    0,     0,     2,      2,      2,      2
 io_form_auxinput2                   = 2 
 history_interval                    = 360,360,60,60,60,60
! bdy_inname                          = 'wrfbdy_d02'
! input_inname                        = 'wrfinput_d02_1July_withwrfrst'
! input_inname                        = 'wrfinput_d02'
 frames_per_outfile                  = 1, 1, 1, 1, 1, 1,
 frames_per_auxhist1                 = 1
 frames_per_auxhist2                 = 1
 restart                             = .false.,
 restart_interval_h                  = 24,
 write_hist_at_0h_rst                = .false.
 override_restart_timers             = .true. 
 io_form_history                     = 2
 io_form_restart                     = 2
 io_form_input                       = 2
 io_form_boundary                    = 2
 io_form_auxinput5                   = 2,
 frames_per_auxinput5                = 1, 1, 1,
 auxinput5_inname                    = 'wrfchemi_d<domain>_<date>',
 auxinput5_interval_m                = 60, 60, 60,
io_form_auxinput6                   = 2,
frames_per_auxinput6                = 1, 1, 1,
auxinput6_inname                    = 'wrfbiochemi_d<domain>',
auxinput6_interval_h                = 360, 360, 360,
 io_form_auxinput7                   = 2
 frames_per_auxinput7                = 1, 1, 1,
 auxinput7_inname                    = 'wrffirechemi_d<domain>_<date>',
 auxinput7_interval_m                = 60, 60, 60,
 iofields_filename                   = 'hist_io_mods_d01','hist_io_mods_d02',
 ignore_iofields_warning             = .true.,
 debug_level                         = 0
 history_outname                     = 'wrfout_d<domain>_<date>',
 auxhist2_outname                    = 'Hourly_d<domain>_<date>',
 auxhist2_interval                   = 60,60, 60
 frames_per_auxhist2                 = 1, 1,
 io_form_auxhist2                    = 2,
 auxinput11_interval_s               = 120
 auxinput11_end_d                    = 140
! io_form_auxinput4 = 2
! auxinput4_inname = 'wrflowinp_d<domain>'
! auxinput4_interval = 360, 360, 360,
! io_form_auxinput2 = 2
 /

&domains
 time_step                           = 90,
 time_step_fract_num                 = 0,
 time_step_fract_den                 = 1,
 max_dom                             = 2,
 s_we                                = 1,     1,     1,
 e_we                                = 180,  130,    88,
 s_sn                                = 1,     1,     1,
 e_sn                                = 140,  103,    88,
 s_vert                              = 1,     1,     1,
 e_vert                              = 37,    37,    45,
 num_metgrid_levels                  = 40,
 num_metgrid_soil_levels             = 4,
 dx                                  = 15000, 5000, 2500
 dy                                  = 15000, 5000, 2500
 grid_id                             = 1,     2,     3,
 parent_id                           = 0,     1,     2,
 i_parent_start                      = 0,     92,    17,
 j_parent_start                      = 0,     45,    20,
 parent_grid_ratio                   = 1,     3,     3,
 parent_time_step_ratio              = 1,     3,     1,
 feedback                            = 0,
 smooth_option                       = 1
 lagrange_order                      = 1
 interp_type                         = 1
 extrap_type                         = 2
 t_extrap_type                       = 2
 use_surface                         = .true.
 use_levels_below_ground             = .true.
 lowest_lev_from_sfc                 = .false.,
 force_sfc_in_vinterp                = 1
 zap_close_levels                    = 500
! interp_theta                        = .FALSE.
 hypsometric_opt                     = 2
 p_top_requested                     = 5000.,
 eta_levels                          = 1.000000, 0.996200, 0.989737, 0.982460, 0.974381,
                                       0.965422, 0.955498, 0.944507, 0.932347, 0.918907,
                                       0.904075, 0.887721, 0.869715, 0.849928, 0.828211,
                                       0.804436, 0.778472, 0.750192, 0.719474, 0.686214,
                                       0.650339, 0.611803, 0.570656, 0.526958, 0.480854,
                                       0.432582, 0.382474, 0.330973, 0.278674, 0.226390,
                                       0.175086, 0.132183, 0.096211, 0.065616, 0.039773,
                                       0.018113, 0.000000,
/

&physics
 mp_physics                          = 8, 8,
 ra_lw_physics                       = 4, 4,
 ra_sw_physics                       = 4, 4,
 radt                                = 15,5
 sf_sfclay_physics                   = 1, 1,
 sf_surface_physics                  = 2, 2,
 bl_pbl_physics                      = 1, 1,
 bldt                                = 0, 0,
!try turning off cu_phhys for d02
! with V3.5.1 try using again cu_phys=5 and chem_conv_tr
 cu_physics                          = 1, 0,
 cudt                                = 5, 0,
! cugd_avedx			     = 0,
! cu_rad_feedback		     = .false., .false.,
! cu_diag			     = 0, 0 
 isfflx                              = 1,
 ifsnow                              = 1,
 icloud                              = 1,
 surface_input_source                = 1,
 num_soil_layers                     = 4,
 mp_zero_out                         = 2,
 mp_zero_out_thresh                  = 1.e-12,
 num_land_cat			     = 20,
!restart on 6 june - add sf_urban_physics=1
 sf_urban_physics                    = 0, 0,
! traj_opt                              = 1
! num_traj                              = 12 
!traj_k                                = 0
!traj_i                              = 40
!traj_j                              = 40
/

&fdda
 grid_fdda                    =   1,    1,    0,
 gfdda_inname                 = "wrffdda_d<domain>",
 gfdda_end_d                  =  60, 60,   120,
 gfdda_interval_m             =  180, 180,  360,
 fgdt                         =   0,    0,    0,
 if_no_pbl_nudging_uv         =   0,    1,    0,
 if_no_pbl_nudging_t          =   0,    1,    1,
 if_no_pbl_nudging_q          =   0,    1,    1,
 if_zfac_uv                   =   0,    0,    1,
  k_zfac_uv                   =  10,   10,   10,
 if_zfac_t                    =   0,    0,    0,
  k_zfac_t                    =  10,   10,   10,
 if_zfac_q                    =   0,    0,    0,
  k_zfac_q                    =  10,   10,   10,
 guv                          = 0.02, 0.0003, 0.0003,
 gt                           = 0.01, 0.0003, 0.0003,
 gq                           = 0.01, 0.0003, 0,
 if_ramping                   = 1,
 dtramp_min                   = 60.0,
 io_form_gfdda                = 2,    
 obs_nudge_opt = 0,0
max_obs = 950000,	
fdda_start = 0., 0., 0., 0., 0.
fdda_end = 99999., 99999., 99999., 99999., 99999.
obs_nudge_wind = 1,1,1,1,1
obs_coef_wind = 6.E-4,6.E-4,6.E-4,6.E-4,6.E-4
obs_nudge_temp = 1,1,1,1,1
obs_coef_temp = 6.E-4,6.E-4,6.E-4,6.E-4,6.E-4
obs_nudge_mois = 1,1,1,1,1
obs_coef_mois = 6.E-4,6.E-4,6.E-4,6.E-4,6.E-4
obs_rinxy = 60.,240.,180.,180,180
obs_rinsig = 0.1,
obs_twindo = 0.6666667,0.6666667,0.6666667,0.6666667,0.6666667,
obs_npfi = 10,
obs_ionf = 2, 2, 2, 2, 2,
obs_idynin = 0,
obs_dtramp = 40.,
obs_prt_freq = 10, 10, 10, 10, 10,
obs_prt_max = 10
obs_ipf_errob = .true.
obs_ipf_nudob = .true.
obs_ipf_in4dob = .true.
obs_ipf_init = .true.
/

&dynamics
 iso_temp			     = 0,
 tracer_opt                          = 0, 0,
 w_damping                           = 1,
 diff_opt                            = 1
! had 2 for diff_6th_opt but WRFchem User Guide says 0
 diff_6th_opt                        = 0, 0,  0 
 diff_6th_factor                     = 0.05, 0.05, 0.12
 km_opt                              = 4,
 damp_opt                            = 1,
 zdamp                               = 5000.,  5000.,  5000.,
 dampcoef                            = 0.15,   0.15,   0.01,
 non_hydrostatic                     = .true., .true.,
 use_baseparam_fr_nml                = .true.,
 mix_full_fields                     = .true., .true., .true.,
 moist_adv_opt                       = 1,      2,      0,
 scalar_adv_opt                      = 2,      2,      0,
 chem_adv_opt                        = 1,      2,      0,
 tke_adv_opt                         = 2,      2,      0,
 h_mom_adv_order                     = 5,      5,      5,
 v_mom_adv_order                     = 3,      3,      3,
 h_sca_adv_order                     = 5,      5,      5,
 v_sca_adv_order                     = 3,      3,      3,
 /

&bdy_control
 spec_bdy_width                      = 5,
 spec_zone                           = 1,
 relax_zone                          = 4,
 specified                           = .true., .false.,
 nested                              = .false.,.true.,
 /

&namelist_quilt
 nio_tasks_per_group = 0,
 nio_groups = 1,
 /

&chem
kemit                               = 8,
chem_opt                            = 112,    112,
! had 12, 12 now use 12,4
bioemdt                             = 3,   1 ,
photdt                              = 3,   1,
chemdt                              = 3,  1, 
io_style_emissions                  = 2,
emiss_inpt_opt                      = 111,     111,
emiss_opt                           = 8,        8,
emiss_opt_vol                       = 0,        0,
chem_in_opt                         = 0,        0,
phot_opt                            = 3, 3 
gas_drydep_opt                      = 1,        1, 
aer_drydep_opt                      = 1,        1, 
bio_emiss_opt                       = 3,        3,
ne_area                             = 118,
gas_bc_opt                          = 112,    112,
gas_ic_opt                          = 112,    112,
aer_bc_opt                          = 112,    112,
aer_ic_opt                          = 112,    112,
gaschem_onoff                       = 1,        1,
aerchem_onoff                       = 1,        1,
wetscav_onoff                       = 1,        1,
cldchem_onoff                       = 0,        0,
vertmix_onoff                       = 1,        1,
chem_conv_tr                        = 0,        0,
! had both to 1 but try and turn off - set to 1 in V3.5.1.
conv_tr_wetscav                     = 0,        0
conv_tr_aqchem                      = 0,        0,
seas_opt                            = 0,         
dust_opt                            = 0,        
dmsemis_opt                         = 1,       
biomass_burn_opt                    = 2,        2,
plumerisefire_frq                   = 15,      15,
scale_fire_emiss                    = .true., .true.,
have_bcs_chem                       = .true., .true.,
aer_ra_feedback                     = 0,        0,
aer_op_opt                          = 1,        
opt_pars_out                        = 1,        
have_bcs_upper                      = .false.,  .false.,
fixed_ubc_press                     = 50.,     50.,
fixed_ubc_inname                    = 'ubvals_b40.20th.track1_1996-2005.nc',
emi_inname                          = 'wrfchemi_d<domain>_<date>'
/
