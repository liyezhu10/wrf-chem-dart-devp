<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
          "http://www.w3.org/TR/html4/strict.dtd">
<HTML>
<HEAD>
<TITLE>program fill_inflation_restart</TITLE>
<link rel="stylesheet" type="text/css" href="../../../documentation/html/doc.css" />
<link href="../../../documentation/images/dart.ico" rel="shortcut icon" />
</HEAD>
<BODY>
<A NAME="TOP"></A>

<H1>PROGRAM <em class=program>fill_inflation_restart</em></H1>

<table border=0 summary="" cellpadding=5>
<tr>
    <td valign=middle>
    <img src="../../../documentation/images/Dartboard7.png" alt="DART project logo" height=70 />
    </td>
    <td>
       <P>Jump to <a href="../../../documentation/index.html">DART Documentation Main Index</a><br />
          <small><small>version information for this file: <br />
          <!-- version tag follows, do not edit -->
          $Id$</small></small>
       </P></td>
</tr>
</table>

<A HREF="#Namelist">NAMELIST</A> /
<A HREF="#Modules">MODULES</A> /
<A HREF="#FilesUsed">FILES</A> /
<A HREF="#References">REFERENCES</A> /
<A HREF="#Errors">ERRORS</A> /
<A HREF="#FuturePlans">PLANS</A> /
<A HREF="#Legalese">TERMS OF USE</A>

<H2>Overview</H2>

<P>
Utility program to create inflation restart files with constant values.
Useful for a multi-step assimilation, so the values
<em class=code>inf_initial_from_restart</em> and
<em class=code>inf_sd_initial_from_restart</em> items in the &amp;filter_nml
namelist can be .TRUE. from the beginning.
</P>
<P>
This program uses the information from the model_mod code to determine
the variables in the state vector.  It must be compiled with the
right model's model_mod.
</P>


<!--==================================================================-->
<!--=================== DESCRIPTION OF A NAMELIST ====================-->
<!--==================================================================-->

<A NAME="Namelist"></A>
<div class="top">[<a href="#">top</a>]</div><hr />
<H2>NAMELIST</H2>
<P>
This namelist is read from the file <em class=file>input.nml</em>.
Namelists start with an ampersand
'&amp;' and terminate with a slash '/'.
Character strings that contain a '/' must be
enclosed in quotes to prevent them from
prematurely terminating the namelist.
</P>

<div class=namelist>
<pre>
&amp;fill_inflation_restart_nml
 prior_inf_mean = -88888.0
 prior_inf_sd = -88888.0
 post_inf_mean = -88888.0
 post_inf_sd = -88888.0
 write_prior_inf = .false.
 write_post_inf = .false.
 input_state_files = 'null'
 single_file = .false.
 verbose = .false.
</pre>
</div>

<br />
<br />

<div>
<TABLE border=0 cellpadding=10 width=100% summary='namelist description'>
<THEAD align=left>
<TR><TH> Item </TH>
    <TH> Type </TH>
    <TH> Description </TH> </TR>
</THEAD>

<TBODY valign=top>
<TR><TD>prior_inf_mean</TD>
    <TD>real(r8)</TD>
    <TD>Prior inflation mean.
 </TD></TR>

<TR><TD>prior_inf_sd</TD>
    <TD>real(r8)</TD>
    <TD>Prior inflation standard deviation.
 </TD></TR>

<TR><TD>post_inf_mean</TD>
    <TD>real(r8)</TD>
    <TD>Posterior inflation mean.
 </TD></TR>

<TR><TD>post_inf_sd</TD>
    <TD>real(r8)</TD>
    <TD>Posterior inflation standard deviation.
 </TD></TR>

<TR><TD>write_prior_inf</TD>
    <TD>logical</TD>
    <TD>Set true to write the prior inflation restart files.
 </TD></TR>

<TR><TD>write_post_inf</TD>
    <TD>logical</TD>
    <TD>Set true to write the posterior inflation restart files.
 </TD></TR>

<TR><TD>single_file</TD>
    <TD>logical</TD>
    <TD>True means all ensemble members are read from variables inside 
a single NetCDF file.  False means each member is in a separate file.  
Single file NOT SUPPORTED as of May, 2018; must be .false.
 </TD></TR>

<TR><TD>input_state_files</TD>
    <TD>character(len=256) (:)</TD>
    <TD>For the single file case a list of input files, one per domain, 
to add the inflation values into with the proper netcdf variable names.
Unused for the multiple file case.
 </TD></TR>

<TR><TD>verbose</TD>
    <TD>logical</TD>
    <TD>Set true to get more debugging output.
 </TD></TR>


</TBODY>
</TABLE>
</div>

<br />
<br />

<P><!-- make sure the 'top' is aligned correctly --></P>

<!--==================================================================-->

<A NAME="Modules"></A>
<div class="top">[<a href="#">top</a>]</div><hr />
<H2>MODULES USED</H2>
<PRE>
types_mod
utilities_mod
ensemble_manager_mod
assim_model_mod
model_mod
mpi_utilities_mod
</PRE>

<!--==================================================================-->
<!-- Describe the Files Used by this module.                          -->
<!--==================================================================-->

<A NAME="FilesUsed"></A>
<div class="top">[<a href="#">top</a>]</div><hr />
<H2>FILES</H2>
<UL><LI>writes <em class=file>prior_inf_mean.nc, prior_inf_sd.nc,
posterior_inf_mean.nc, posterior_inf_sd.nc</em>
</UL>

<!--==================================================================-->
<!-- Cite references, if need be.                                     -->
<!--==================================================================-->

<A NAME="References"></A>
<div class="top">[<a href="#">top</a>]</div><hr />
<H2>REFERENCES</H2>
<ul>
<li> none </li>
</ul>

<!--==================================================================-->
<!-- Describe all the error conditions and codes.                     -->
<!--==================================================================-->

<A NAME="Errors"></A>
<div class="top">[<a href="#">top</a>]</div><hr />
<H2>ERROR CODES and CONDITIONS</H2>
<div class=errors>
<TABLE border=1 cellspacing=1 cellpadding=10 width=100%>
<TR><TH>Routine</TH><TH>Message</TH><TH>Comment</TH></TR>

<TR><!-- routine --><TD VALIGN=top>write_ensemble_restart</TD>
<!-- message --><TD VALIGN=top>any</TD>
<!-- comment --><TD VALIGN=top>reports failure to write the inflation
                           restart file</TD></TR>

</TABLE>
</div>

<H2>KNOWN BUGS</H2>
<P>
none
</P>

<!--==================================================================-->
<!-- Describe Future Plans.                                           -->
<!--==================================================================-->

<A NAME="FuturePlans"></A>
<div class="top">[<a href="#">top</a>]</div><hr />
<H2>FUTURE PLANS</H2>
<P>
none
</P>

<!--==================================================================-->
<!-- Legalese & Metadata                                              -->
<!--==================================================================-->

<A NAME="Legalese"></A>
<div class="top">[<a href="#">top</a>]</div><hr />
<H2>Terms of Use</H2>

<P>
DART software - Copyright UCAR. This open source software is provided
by UCAR, "as is", without charge, subject to all terms of use at
<a href="http://www.image.ucar.edu/DAReS/DART/DART_download">
http://www.image.ucar.edu/DAReS/DART/DART_download</a>
</P>

<TABLE border=0 cellpadding=0 width=100% summary="">
<TR><TD valign=top>Contact:       </TD><TD> DART core group   </TD></TR>
<TR><TD valign=top>Revision:      </TD><TD> $Revision$ </TD></TR>
<TR><TD valign=top>Source:        </TD><TD> $URL$ </TD></TR>
<TR><TD valign=top>Change Date:   </TD><TD> $Date$ </TD></TR>
<TR><TD valign=top>Change&nbsp;history:&nbsp;</TD><TD> try "svn&nbsp;log" or "svn&nbsp;diff" </TD></TR>
</TABLE>

<!--==================================================================-->

</BODY>
</HTML>
